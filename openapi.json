{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/predict":{"post":{"summary":"Predict","description":"Accepts a text query and returns the predicted ticket category and probabilities.","operationId":"predict_predict_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Read Root","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/find-answer":{"post":{"tags":["Answer Retrieval"],"summary":"Find Top Answers","description":"Accepts a text query, finds the top 3 most similar historical tickets, \nand returns their answer patterns.","operationId":"find_top_answers_find_answer_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnswerRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TopAnswersResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/search":{"post":{"tags":["Search"],"summary":"Search Tickets","description":"Performs a simple 'Ctrl+F' style text search across ticket queries and answers.\nThe search is case-insensitive.","operationId":"search_tickets_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AnswerRequest":{"properties":{"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"title":"AnswerRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PredictionRequest":{"properties":{"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"title":"PredictionRequest"},"PredictionResponse":{"properties":{"prediction":{"type":"string","title":"Prediction"},"parent":{"type":"string","title":"Parent"},"confidence":{"type":"number","title":"Confidence"},"parent_confidence":{"type":"number","title":"Parent Confidence"},"routed":{"type":"boolean","title":"Routed"},"top3":{"items":{"type":"string"},"type":"array","title":"Top3"}},"type":"object","required":["prediction","parent","confidence","parent_confidence","routed","top3"],"title":"PredictionResponse"},"RetrievedAnswerItem":{"properties":{"retrieved_answer":{"type":"string","title":"Retrieved Answer"},"matched_query":{"type":"string","title":"Matched Query"},"similarity_score":{"type":"number","title":"Similarity Score"}},"type":"object","required":["retrieved_answer","matched_query","similarity_score"],"title":"RetrievedAnswerItem"},"SearchRequest":{"properties":{"query":{"type":"string","title":"Query"}},"type":"object","required":["query"],"title":"SearchRequest","description":"Request model for the text search endpoint."},"SearchResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/SearchResultItem"},"type":"array","title":"Results"}},"type":"object","required":["results"],"title":"SearchResponse","description":"Response model containing a list of search results."},"SearchResultItem":{"properties":{"text":{"type":"string","title":"Text"},"answer_pattern":{"type":"string","title":"Answer Pattern"}},"type":"object","required":["text","answer_pattern"],"title":"SearchResultItem","description":"Represents a single item returned by the text search."},"TopAnswersResponse":{"properties":{"answers":{"items":{"$ref":"#/components/schemas/RetrievedAnswerItem"},"type":"array","title":"Answers"}},"type":"object","required":["answers"],"title":"TopAnswersResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}